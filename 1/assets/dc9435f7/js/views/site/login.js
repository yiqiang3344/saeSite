var oTemplate=new Hogan.Template();oTemplate.r =function(c,p,i){var _=this;_.b(i=i||"");_.b("<div class=\"mlogin\">");_.b("\n" + i);_.b("    <div>");_.b("\n" + i);_.b("        用户名<input type=\"text\" class=\"attr\" id=\"username\" />");_.b("\n" + i);_.b("    </div>");_.b("\n" + i);_.b("    <div>");_.b("\n" + i);_.b("        密码<input type=\"password\" class=\"attr\" id=\"password\" />");_.b("\n" + i);_.b("    </div>");_.b("\n" + i);_.b("    <div>");_.b("\n" + i);_.b("        <input type=\"submit\" id=\"submit\" values=\"提交\" />");_.b("\n" + i);_.b("    </div>");_.b("\n" + i);_.b("</div>");return _.fl();;};
// Generated by CoffeeScript 1.6.3
(function() {
  window.oPage = oFinalPage.extend({
    fRefresh: function(bRefresh) {
      return this._super();
    },
    fBind: function() {
      return $('#submit').click(function() {
        var data;
        data = {};
        $('.attr').each(function() {
          $(this).removeClass('merror');
          return data[this.id] = $(this).val();
        });
        fOneAjax('Site', 'AjaxLogin', data, function(o) {
          if (o.code === 1) {
            return State.forward('Main', 'Index');
          } else {
            return $.each(o.errors, function(k, v) {
              return $('#' + k).addClass('merror');
            });
          }
        }, this);
        return false;
      });
    },
    __fInitData: function() {}
  });

}).call(this);
